<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Filename Manipulating | dt-cli</title>
    <meta name="description" content="Documentations for dt-cli <https://github.com/blurgyy/dt>">
    <link rel="stylesheet" href="/assets/style.42fa774d.css">
    <link rel="modulepreload" href="/assets/plugin-vue_export-helper.f07d1dea.js">
    <link rel="modulepreload" href="/assets/Home.74659134.js">
    <link rel="modulepreload" href="/assets/config_guide_06-filename-manipulating.md.91eb2307.lean.js">
    <link rel="modulepreload" href="/assets/app.2b904881.js">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&amp;family=Rubik:wght@300..900&amp;display=swap">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:image" content="/home-everywhere.png">
  <meta property="og:image" content="/home-everywhere.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="794">
  <meta name="twitter:title" content="Filename Manipulating | dt-cli">
  <meta property="og:title" content="Filename Manipulating | dt-cli">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-bd29f18c><div class="sidebar-button" data-v-bd29f18c><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="dt-cli, back to home" data-v-bd29f18c data-v-47b7809c><!----> dt-cli</a><div class="flex-grow" data-v-bd29f18c></div><div class="nav" data-v-bd29f18c><nav class="nav-links" data-v-bd29f18c data-v-155438fc><!--[--><div class="item" data-v-155438fc><div class="nav-link" data-v-155438fc data-v-2624cfdf><a class="item" href="/" data-v-2624cfdf>Overview <!----></a></div></div><div class="item" data-v-155438fc><div class="nav-link" data-v-155438fc data-v-2624cfdf><a class="item active" href="/config/guide/" data-v-2624cfdf>Guide <!----></a></div></div><div class="item" data-v-155438fc><div class="nav-link" data-v-155438fc data-v-2624cfdf><a class="item" href="/config/key-references" data-v-2624cfdf>Key References <!----></a></div></div><!--]--><!----><div class="item" data-v-155438fc><div class="nav-link" data-v-155438fc data-v-2624cfdf><a class="item isExternal" href="https://github.com/blurgyy/dt" target="_blank" rel="noopener noreferrer" data-v-2624cfdf>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-2624cfdf><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-69967ef1><nav class="nav-links nav" data-v-69967ef1 data-v-155438fc><!--[--><div class="item" data-v-155438fc><div class="nav-link" data-v-155438fc data-v-2624cfdf><a class="item" href="/" data-v-2624cfdf>Overview <!----></a></div></div><div class="item" data-v-155438fc><div class="nav-link" data-v-155438fc data-v-2624cfdf><a class="item active" href="/config/guide/" data-v-2624cfdf>Guide <!----></a></div></div><div class="item" data-v-155438fc><div class="nav-link" data-v-155438fc data-v-2624cfdf><a class="item" href="/config/key-references" data-v-2624cfdf>Key References <!----></a></div></div><!--]--><!----><div class="item" data-v-155438fc><div class="nav-link" data-v-155438fc data-v-2624cfdf><a class="item isExternal" href="https://github.com/blurgyy/dt" target="_blank" rel="noopener noreferrer" data-v-2624cfdf>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-2624cfdf><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-69967ef1><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Hands-on Guide</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/config/guide/">Basics</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config/guide/01-default-behaviours">Defining Default Behaviours</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config/guide/02-groups">Groups</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config/guide/03-syncing-methods">Syncing Methods</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config/guide/04-host-specific">Host-specific Config</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config/guide/05-priority">Scopes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/config/guide/06-filename-manipulating">Filename Manipulating</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#basics">Basics</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#per-group-rules">Per-group Rules</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#capturing-groups-as-in-regular-expressions">Capturing Groups</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#example-repeating-the-extension-of-an-item">Example:</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config/guide/07-templating">Templating</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config/guide/99-error-handling">Error Handling</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config/key-references">Key References</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7f9de529><div class="container" data-v-7f9de529><!--[--><!--]--><div style="position:relative;" class="content" data-v-7f9de529><div><h1 id="filename-manipulating" tabindex="-1">Filename Manipulating <a class="header-anchor" href="#filename-manipulating" aria-hidden="true">#</a></h1><p>To this point, our source items must be named as their destination requires, most &quot;dotfiles&quot; begin their names with a literal dot (<code>.</code>), which is sometimes annoying when managing them (like with <a href="https://git-scm.com/doc" target="_blank" rel="noopener noreferrer"><code>git</code></a>). In the meantime, for items that have names not feasible to be altered --- like items from your system directory (e.g. a wallpaper image which is provided as part of a system-wide installed package) --- according to the previous sections, there seem to be no good way to have them tracked by <code>dt-cli</code>.</p><h2 id="basics" tabindex="-1">Basics <a class="header-anchor" href="#basics" aria-hidden="true">#</a></h2><p>To manipulate filename of items, <code>dt-cli</code> provides a configurable <code>rename</code> option in the config file. It is an array of renaming rules, each of them constitutes of a <em>pattern</em> and a <em>substitution rule</em>. A simple renaming rule to rename all items with a &quot;dot-&quot; prefix (like <code>dot-config</code>) to a &quot;dotfile&quot; (like <code>.config</code>, in this case) can be specified in the <code>[global]</code> section as:</p><div class="language-toml"><pre><code><span class="token punctuation">[</span><span class="token table class-name">global</span><span class="token punctuation">]</span>
<span class="token key property">rename</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    <span class="token string">&quot;^dot-&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># &quot;pattern&quot;, must be a valid regular expression</span>
    <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span>      <span class="token comment"># &quot;substitution rule&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment"># Multiple renaming rules are applied sequentially, with the previous rule&#39;s</span>
  <span class="token comment"># output being the input of the current rule.</span>
<span class="token punctuation">]</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Note that only the path components that appear after a group&#39;s <code>target</code> will be altered by <code>dt-cli</code>. For example, with the above renaming rule added to your <code>[global]</code> section, a group with <code>target</code> set to <code>/some/path/dot-target</code> will have all its items populated to the exact path <code>/some/path/dot-target</code>, instead of <code>/some/path/.target</code>.</p></div><h2 id="per-group-rules" tabindex="-1">Per-group Rules <a class="header-anchor" href="#per-group-rules" aria-hidden="true">#</a></h2><p>You might have guessed it: <code>rename</code> rules can also be specified on a per-group basis. The way this works is that <code>dt-cli</code> processes renaming rules in the <code>rename</code> array one by one, first <a href="/config/key-references.html#rename"><code>global.rename</code></a>, then <a href="/config/key-references.html#rename-1">the group&#39;s <code>rename</code></a> if any.</p><p>For example, to revert the above renaming operation for a single group, you can add a rule to this group:</p><div class="language-toml"><pre><code><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">local</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;Group from which items must have a &#39;dot-&#39; prefix after syncing&quot;</span>
<span class="token comment"># [...omitted...]</span>
<span class="token key property">rename</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    <span class="token string">&quot;^.&quot;</span><span class="token punctuation">,</span>     <span class="token comment"># &quot;pattern&quot;, matches prefixing dot</span>
    <span class="token string">&quot;dot-&quot;</span><span class="token punctuation">,</span>   <span class="token comment"># &quot;substitution rule&quot;, replace the matched string into &quot;dot-&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Apparently, this rule &quot;undo&quot;s the renaming rule in the global section which we previously defined. Items that have names prefixed with <code>dot-</code> in this group will first be renamed to have a <code>.</code> prefix, then the <code>.</code> prefix is renamed back to <code>dot-</code>.</p><h2 id="capturing-groups-as-in-regular-expressions" tabindex="-1">Capturing Groups <sub>(as in regular expressions)</sub> <a class="header-anchor" href="#capturing-groups-as-in-regular-expressions" aria-hidden="true">#</a></h2><p>Since this functionality is powered by <a href="https://docs.rs/regex/latest/regex/" target="_blank" rel="noopener noreferrer">the Rust crate <code>regex</code></a>, substitution rules are supported to the extent which this crate allows. A powerful capability it provides is defining <a href="https://www.regular-expressions.info/refcapture.html" target="_blank" rel="noopener noreferrer">capturing groups</a>. Capturing groups can either be <a href="https://www.regular-expressions.info/named.html" target="_blank" rel="noopener noreferrer">named</a> or <a href="https://www.regular-expressions.info/brackets.html" target="_blank" rel="noopener noreferrer">numbered</a>, which allows arbitrary manipulation to be applied to any synced items.</p><h3 id="example-repeating-the-extension-of-an-item" tabindex="-1">Example: <sub>Repeating the Extension of an Item</sub> <a class="header-anchor" href="#example-repeating-the-extension-of-an-item" aria-hidden="true">#</a></h3><p>To illustrate how capturing groups work, we try to have the destination items to repeat the extension name of their corresponding source items, via capturing groups. With numbered capturing group, this rule can be written as:</p><div class="language-toml"><pre><code><span class="token punctuation">[</span><span class="token table class-name">global</span><span class="token punctuation">]</span>
<span class="token key property">rename</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    <span class="token string">&quot;(.*)\\.(\\w+)&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;${1}.${2}.${2}&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Or, with named capturing group:</p><div class="language-toml"><pre><code><span class="token punctuation">[</span><span class="token table class-name">global</span><span class="token punctuation">]</span>
<span class="token key property">rename</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    <span class="token string">&quot;(?P&lt;actual_name&gt;.*)\\.(?P&lt;extension&gt;\\w+)&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;${actual_name}.${extension}.${extension}&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre></div><p>The outcomes of above two approaches are identical.</p></div></div><footer class="page-footer" data-v-7f9de529 data-v-f487177c><div class="edit" data-v-f487177c><div class="edit-link" data-v-f487177c data-v-7ca0917a><!----></div></div><div class="updated" data-v-f487177c><!----></div></footer><div class="next-and-prev-link" data-v-7f9de529 data-v-34768bda><div class="container" data-v-34768bda><div class="prev" data-v-34768bda><a class="link" href="/config/guide/05-priority" data-v-34768bda><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-34768bda><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-34768bda>Scopes</span></a></div><div class="next" data-v-34768bda><a class="link" href="/config/guide/07-templating" data-v-34768bda><span class="text" data-v-34768bda>Templating</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-34768bda><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"config_guide_01-default-behaviours.md\":\"854674aa\",\"config_guide_02-groups.md\":\"f3df12a3\",\"config_guide_03-syncing-methods.md\":\"97339ead\",\"config_guide_04-host-specific.md\":\"023351e2\",\"config_guide_05-priority.md\":\"f20fb775\",\"config_guide_06-filename-manipulating.md\":\"91eb2307\",\"config_guide_07-templating.md\":\"04045fd2\",\"config_guide_99-error-handling.md\":\"27237278\",\"config_guide_index.md\":\"06aa0a6a\",\"config_key-references.md\":\"0b03d09c\",\"contributing.md\":\"19d189fc\",\"features_01-host-specific.md\":\"2b8dc1fd\",\"features_02-scope.md\":\"8bf5f7da\",\"features_03-filename-manipulating.md\":\"ee000a05\",\"features_04-templating.md\":\"3baa0e3e\",\"features_index.md\":\"b62d5ff3\",\"index.md\":\"2dd23be8\",\"installation.md\":\"e3f26379\"}")</script>
    <script type="module" async src="/assets/app.2b904881.js"></script>
    
  </body>
</html>